#!/usr/bin/python

#runs the position maps if they do not already exist in "filepath"

import os
import MButils

runlist_path = "../run_lists/"

for p in range(1,12,1):
    filename = "Source_Calibration_Run_Period_%i.dat"%p
    infile = open(runlist_path+filename,'r')
    runs = []
    for line in infile:
        #checking if positions have already been fit
        filepath = "/extern/UCNA/source_positions/source_positions_%i.dat"%int(line)
        print filepath
        if MButils.fileExistsAndNotEmpty(filepath):
            runs.append(int(line))

    for run in runs:
        os.system("root -b -q '../source_positions/fit_source_positions.C(\"%i\")'"%run)
        print "Running fit_source_positions.C on run %i"%run




    

