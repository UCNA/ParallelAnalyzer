#!/usr/bin/python

### Script to generate files with all source data included to produce 
### error envelope type plot

import os
import MButils

runRange = [17359,17949]
omittedRuns = [17383,17385,17382,17381,17521,17876,17886,17909,17912]
src_peak_path = "/extern/UCNA/source_peaks_MB/"
outputFile = "/extern/UCNA/CalibrationPlots_MB/source_runs_%i-%i.dat"%(runRange[0],runRange[1])

outfile = open(outputFile,'w')

for run in range(runRange[0],runRange[1]+1,1):
    src_file = src_peak_path + "source_peaks_%i.dat"%run
    if MButils.fileExistsAndNotEmpty(src_file) and run not in omittedRuns:
        infile = open(src_file,'r')
        for line in infile:
            outfile.write(line)
        infile.close()

outfile.close()
    
